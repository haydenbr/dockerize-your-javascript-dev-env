<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Docker for JavaScript Developers</title>

    <link rel="stylesheet" href="main.css">

    <script type="text/javascript" src="plugin/markdown/marked.js"></script>
    <script type="text/javascript" src="plugin/highlight/highlight.js"></script>
    <script type="text/javascript" src="plugin/notes/notes.js"></script>
  </head>
  <body>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="main.js"></script>

    <div class="reveal">
      <div class="slides">
        <section
          class="intro-slide title-slide"
        >
          <div class="top-row">
            <div class="title">Dockerize your JavaScript Dev Environment</div>
            <img class="whale" src="./assets/images/docker-whale.png">
          </div>
          <div class="presenter">
            <div class="avatar-container">
              <div class="avatar"></div>
            </div>
            <div>
              <div>Hayden Braxton</div>
              <a target="_blank" href="https://twitter.com/hayden_dev">@hayden_dev</a>
            </div>
          </div>
        </section>

        <section
          class="content-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div class="page-title">Before we get started</div>
          <div>Install Docker!! <a target="_blank" href="https://www.docker.com/community-edition">docker.com/community-edition</a></div>
          <br>
          <div>Legacy Support <a target="_blank" href="https://docs.docker.com/toolbox/overview">docs.docker.com/toolbox/overview</a></div>
          <br>
          <div>Windows users, please switch to Linux containers</div>
          <img src="./assets/images/switch-to-linux-containers.png">
        </section>

        <section
          class="content-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div class="page-title">Code Examples</div>

          <a href="https://github.com/haydenbr/new-years-resolutions">github.com/haydenbr/new-years-resolutions</a>
          <a href="https://github.com/haydenbr/new-years">github.com/haydenbr/new-years</a>

          <aside class="notes">
            <ul>
              <li>will need a volunteer later</li>
              <li>bonus points if you have a mongo client installed :)</li>
            </ul>
          </aside>
        </section>

        <section
          class="content-slide about-me"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div class="page-title">About me</div>

          <div class="content-container">
            <div>
              <div class="fragment bullet"><a>#RVA</a></div>
              <div class="fragment bullet">
                Software Engineer at <a target="_blank" href="https://www.unboxedtechnology.com/dev-talks/">Unboxed Technology</a>
              </div>
              <div class="fragment bullet">I play with code for fun</div>
              <div class="fragment bullet">Love me some Indian food!</div>
              <br>
              <a target="_blank" href="https://twitter.com/hayden_dev">@hayden_dev</a>
            </div>
            <div>
              <img src="./assets/images/i-love-technology.gif">
            </div>
          </div>

          <aside class="notes">
            <ul>
              <li>Dev Talks Plug: Philip</li>
              <li>Docker Richmond Plug</li>
              <li>JavaScript and Docker</li>
              <li>Docker for 1 year, DCA in June</li>
              <li>South Indian Food!!!!</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img width="900px" src="./assets/images/agenda.gif">
          <aside class="notes">
            <ul>
              <li>One slight mention of JavaScript then talk about Docker rest of the time :)</li>
              <li>3 things</li>
              <li>What is Docker?</li>
              <li>Dependency mgmt with Docker</li>
              <li>Full stack development with Docker</li>
              <li>Previous talks on content</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">What is Docker?</div>

          <aside class="notes">
            <ul>
              <li>Who has used Docker before?</li>
              <li>What is Docker?</li>
            </ul>
          </aside>
        </section>

        <section
          class="content-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div class="page-title">What is Docker?</div>
          <div>Docker is a virtualization technology that allows you to create isolated, minimalistic environments for a specific purpose.</div>
          <div>
            <img style="float: right;" width="550px" src="./assets/images/docker-logo.png">
          </div>

          <aside class="notes">
            <ul>
              <li>specific purpose: app, service, tasks</li>
              <li>cross-platform container platform</li>
              <li>container "contains" code and dependencies, provides isolation</li>
              <li>other container platforms: CoreOS rkt, LXC, Windows Server Containers</li>
              <li>Docker as a company</li>
              <li>Dot Cloud, transitioned to Docker in March 2013</li>
              <li>Solomon Hykes</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">Why Docker?</div>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/works-on-my-machine.jpg">

          <aside class="notes">
            <ul>
              <li>Easily develop, ship, run apps, consistent environment everywhere</li>
              <li>Ship the environment with the code</li>
            </ul>
          </aside>
        </section>

        <section
          class="shipping-containers"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/deb-keychains.gif">
          <img src="./assets/images/crap-on-my-porch.gif">

          <aside class="notes">
            <ul>
              <li>separation of concerns</li>
              <div>dont care what's inside, dont care how it's shipped</div>
              <li>analogy of shipping industry</li>
              <li>napoleon and deb are fine examples as well</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/computing-resources.gif">

          <aside class="notes">
            <ul>
              <li>better use of computing resources</li>
              <li>previously: one app per server</li>
              <li>VM: heavy, full OS, virtualization is costly, spinning up takes time</li>
              <li>containers share the host OS, spinning up is super quick</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">What is a container?</div>

          <aside class="notes">
            <ul>
              <li>Who knows what a container is?</li>
              <li>Container is the atomic unit of scheduling</li>
              <li>lot of other objects in Docker, all centered around running apps in containers</li>
              <li>isolated environment in which we run our apps</li>
            </ul>
          </aside>
        </section>

        <section
          class="image-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img width="700px" src="./assets/images/there-is-no-container.png">
          <aside class="notes">
            <ul>
              <li>A container is not a real thing</li>
              <li>Abstraction of native kernel primitives</li>
              <li>control groups and namesaces</li>
              <li>windows: job objects and namespaces</li>
              <li>isolated slice of OS with limits applied</li>
            </ul>
          </aside>
        </section>

        <section
          class="image-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img width="550px" src="./assets/images/not-a-vm.jpg">

          <aside class="notes">
            <ul>
              <li>like a lightweight VM?</li>
              <li>VM partitions physical computing resources</li>
              <li>VM creates virtual hardware</li>
              <li>VMs add an entire additional OS to the machine</li>
              <li>VM gets dedicated slice of disk</li>
              <li>VMs are slow to spin up</li>
              <li>container partitions OS resources</li>
              <li>containers share physical computing resources</li>
              <li>containers are fast to start and stop</li>
              <li>container is more like virtual OS</li>
            </ul>
          </aside>
        </section>

        <section
          class="image-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img width="700px" src="./assets/images/leviosa.gif">

          <aside class="notes">
            <ul>
              <li>Pedantry?</li>
              <li>calling it lightweight VM obscures the true value of containers</li>
              <li>working with containers is quite different than woring with VMs</li>
            </ul>
          </aside>
        </section>

        <section
          class="image-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img width="650px" src="./assets/images/mac-containers.jpg">

          <aside class="notes">
            <ul>
              <li>So how am I doing this on mac?</li>
              <li>DFM, DFW: lightweight hypervisor VM, custom alpine linux distro</li>
              <li>native windows containers are a thing though!</li>
              <li>native mac containers? lol</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">What is an image?</div>

          <aside class="notes">
            <ul>
              <li>Who knows what an image is?</li>
              <li>image is a readonly template for creating containers</li>
              <li>describes the file system and dependencies you want in your containers</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/vote-for-pedro.gif">
          <aside class="notes">
            <ul>
              <li>cookie cutter or template for creating containers</li>
              <li>analogous to OS or VM image</li>
              <li>can think of container as a running image</li>
              <li>we BUILD images and RUN containers</li>
              <li>image is build-time construct, container is a runtime construct</li>
              <li>containers and container like things existed since before Docker, images are what made it catch on</li>
              <li>images are what make it easy to ship code</li>
              <li>build an image with source code and deps, ship it anywhere!</li>
            </ul>
          </aside>
        </section>

        <section class="content-slide" data-background-image="./assets/images/dark-bg.png">
            <pre>
              <code class="dockerfile" data-trim contenteditable>
                FROM alpine:3.6

                RUN apk update && apk add nodejs
                RUN npm i -g cowsay
                RUN mkdir /opt/app
                WORKDIR /opt/app
                COPY . .
                RUN npm install

                EXPOSE 3000

                CMD [ "npm", "start" ]
              </code>
            </pre>

          <aside class="notes">
            <ul>
              <li>images are built from dockerfile</li>
              <li>each line adds metadata or makes a change to the fs</li>
              <li>each line creates a new layer</li>
              <li>images are stored as layers, each layer itself is an image</li>
              <li>we could explore the under belly of docker and see, but we wont have time</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img width="900px" src="./assets/images/image-layers.jpg">

          <aside class="notes">
            <ul>
              <li>union file system, joins layers, presents unified fs to container</li>
              <li>since image is RO, each container gets it's own R/W layer on top</li>
              <li>copy on write</li>
              <li>benefit: don't store redundant copies</li>
              <li>benefit: reuse and share layers</li>
              <li>benefit: when rebuilding images, only rebuild layers that changed</li>
              <li>example: if package.json didn't change, dont need to reinstall node_modules</li>
            </ul>
          </aside>
        </section>

        <section
          class="image-slide union-file-system"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/image-union-file-system.001.png">
        </section>

        <section
          class="image-slide union-file-system"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/image-union-file-system.002.png">
        </section>

        <section
          class="image-slide union-file-system"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/image-union-file-system.003.png">
        </section>

        <section
          class="image-slide union-file-system"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/image-union-file-system.004.png">
        </section>

        <section
          class="image-slide union-file-system"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/image-union-file-system.005.png">
        </section>

        <section
          class="image-slide union-file-system"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/image-union-file-system.006.png">
        </section>

        <section
          class="content-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div class="page-title">Docker hub</div>
          <a target="_blank" href="https://hub.docker.com/">hub.docker.com</a>

          <aside class="notes">
            <ul>
              <li>image ("container") registry</li>
              <li>like github or npm for Docker</li>
              <li>repos contain images</li>
              <li>tag, push, pull similar like git</li>
              <li>official images</li>
              <li>repo naming convention for official vs unofficial</li>
            </ul>
          </aside>
        </section>

        <section
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/oci.png">

          <aside class="notes">
            <ul>
              <li>industry standards for containers</li>
              <li>under the auspicies of Linux Foundation</li>
              <li>container runtime standard, image standard</li>
              <li>standards => wide use and adoption, more options and plugins</li>
              <li>containers are here to stay, this is not like JS churn</li>
            </ul>
          </aside>
        </section>

        <section
          class="dance"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div><img width="510px" src="./assets/images/dance-9.gif"></div>
          <div><img width="510px" src="./assets/images/dance-3.gif"></div>
          <div><img width="510px" src="./assets/images/dance-6.gif"></div>
          <div><img width="510px" src="./assets/images/dance-8.gif"></div>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">Managing dependencies</div>
        </section>

        <section
          class="image-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/npm-start-y-u-no-work.jpg">

          <aside class="notes">
            <ul>
              <li>deps suck</li>
              <li>onboarding is a pain</li>
              <li>Docker can help ease these pains</li>
            </ul>
          </aside>
        </section>

        <section
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/forgot-to-put-in-the-crystals.gif">

          <aside class="notes">
            <ul>
              <li>OS, C++ compiler, system libs</li>
              <li>node version, npm version</li>
              <li>cli tools, globally installed node_modules</li>
              <li>example: required db update breaks another</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <blockquote>"Different projects require different versions of the same dependencies"</blockquote>

          <aside class="notes">
            <ul>
              <li>(repeat) take 'em to church!</li>
              <li>Projects require different deps over time</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/piece-of-crap-it-doesnt-work.gif">          

          <aside class="notes">
            <ul>
              <li>add a new dep, don't tell your coworker</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img width="500px" src="./assets/images/npm-install-g-all-the-things.jpg">

          <aside class="notes">
            <ul>
              <li>if nothing else: reduce global deps</li>
              <li>npm/yarn scripts</li>
              <li>exceptions: cordova, remove as soon as I'm done</li>
              <li>cowspeak is still fine though</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <pre>
            <code class="bash" data-trim contenteditable>
              alias npmplease🙏 = 'rm -rf node_modules && npm install'
            </code>
          </pre>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <pre>
            <code class="bash" data-trim contenteditable>
              rm -rf repo && git clone git@github.com/user/repo
            </code>
          </pre>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <pre>
            <code class="bash" data-trim contenteditable>
              git add node_modules
            </code>
          </pre>

          <aside class="notes">
            <ul>
              <li>please don't</li>
              <li>ginormous</li>
              <li>binaries are compiled for OS and architecture</li>
              <li>major version change: node complains</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <pre>
            <code class="bash" data-trim contenteditable>
              npm install node

              nvm install node
            </code>
          </pre>

          <aside class="notes">
            <ul>
              <li>only solves the problem of global node version</li>
              <li>heavy node_modules</li>
              <li>nvm becomes a new glboal dep</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/best-shot.gif">

          <aside class="notes">
            <ul>
              <li>let's see it in action!</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">Full stack development</div>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <section>
            <img src="./assets/images/volunteer.gif">
          </section>

          <section>
            <a href="https://github.com/haydenbr/new-years">github.com/haydenbr/new-years</a>
          </section>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <div class="section-title">What's next?</div>

          <aside class="notes">
            <ul>
              <li>Only the tip of the iceberg</li>
              <li>So what's next?</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/looked-into-it-for-myself.gif">
        </section>

        <section
          class="image-slide orchestration"
          data-background-image="./assets/images/dark-bg.png"
        >
          <img src="./assets/images/orchestration.png">

          <aside class="notes">
            <ul>
              <li>swarm</li>
              <li>k8s</li>
              <li>OpenShift from RedHat</li>
              <li>Mesos: cluster management tool</li>
              <li>tools built on Mesos, NetFlix Titus</li>
            </ul>
          </aside>
        </section>

        <section data-background-image="./assets/images/dark-bg.png">
          <img src="./assets/images/large-talons.gif">
        </section>

        <section
          class="content-slide"
          data-background-image="./assets/images/dark-bg.png"
        >
          <div>Thanks!</div>
          <img src="./assets/images/dance-end.gif">

          <div style="margin-bottom: 20px">Drop me a line!</div>
          <div><a target="_blank" href="https://twitter.com/hayden_dev">@hayden_dev</a></div>
          <div><a target="_blank" href="https://github.com/haydenbr">github.com/haydenbr</a></div>
          <div>RVA Dev Slack</div>
        </section>
      </div>
    </div>
  </body>
</html>
